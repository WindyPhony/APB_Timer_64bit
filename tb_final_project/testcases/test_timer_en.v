task run_test;
	begin
		$display("==============================================");
		$display("============= TEST CASE: TIMER_EN ============");
		$display("==============================================");

		sys_rst_n = 0;
		@(posedge sys_clk);
		sys_rst_n = 1;

		write(ADDR_TCR, 32'h0000_0001, 1'b0, 4'hf);
		read (ADDR_TDR0);

		if(rdata == 32'h0000_0003) begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, PASS: enable counting when timer_en = 1, EXP: 32'h3, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");
		end	
		else begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, FAIL: enable counting when timer_en = 1, EXP: 32'h3, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");		        
		        cnt_fail = cnt_fail + 1;
		end
		
		write(ADDR_TCR, 32'h0000_0000, 1'b0, 4'hf);
		read (ADDR_TDR0);

		if(rdata == 32'h0000_0000) begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, PASS: counter value = 0 when timer_en 1->0, EXP: 32'h0, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");
		end	
		else begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, FAIL: counter value = 0 when timer_en 1->0, EXP: 32'h0, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");		        
		        cnt_fail = cnt_fail + 1;
		end
		
		write(ADDR_TDR0, 32'h0000_0100, 1'b0, 4'hf);
		read (ADDR_TDR0);

		if(rdata == 32'h0000_0100) begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, PASS: set start_counter_value, EXP: 32'h100, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");
		end	
		else begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, FAIL: set start_counter_value, EXP: 32'h100, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");		        
		        cnt_fail = cnt_fail + 1;
		end
		
		write(ADDR_TCR, 32'h0000_0001, 1'b0, 4'hf);
		read (ADDR_TDR0);

		if(rdata == 32'h0000_0103) begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, PASS: counter works when timer_en = 0->1, EXP: 32'h103, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");
		end	
		else begin
			$display("---------------------------------------------------------------------------------------");
			$display("t=%0d, FAIL: counter works when timer_en = 0->1, EXP: 32'h103, ACT: 32'h%0h", $time, rdata);
			$display("---------------------------------------------------------------------------------------");		        
		        cnt_fail = cnt_fail + 1;
		end
		
		if(cnt_fail == 0) begin
			$display("==============================================");
			$display("=============== PASS: TIMER_EN ===============");
			$display("==============================================");
		end
		else begin
			$display("==============================================");
			$display("=============== FAIL: TIMER_EN ===============");
			$display("==============================================");
			cnt_fail = 0;
		end
	
	end
endtask
